function number_format(e,t,a,r){var i=e,s=isNaN(t=Math.abs(t))?2:t,n=null==a?",":a,o=null==r?".":r,c=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(s))+"",u=(u=l.length)>3?u%3:0;return c+(u?l.substr(0,u)+o:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?n+Math.abs(i-l).toFixed(s).slice(2):"")}$(function(){$("#services-1-joindata-full-price-members").on("blur",function(){$("#vFullPerson").text($("#services-1-joindata-full-price-members").val())}),$("#services-1-joindata-discount-price-members").on("blur",function(){$("#vDiscountPerson").text($("#services-1-joindata-discount-price-members").val())}),$("input[data-service]").on("blur",i);var e={},t=$(location).attr("origin"),a=$($("script")[1]).attr("src").replace(/\/js\/.*/,""),r=t+a+"/servicesDays/listNonServicesDays.json";$.ajax({method:"get",url:r,success:function(t){var a=t.nonServicesDays;for(var r in a)a.hasOwnProperty(r)&&(e[new Date(a[r])]=new Date(a[r]));$("#datepicker").datetimepicker({beforeShowDay:function(t){return e[t]?[!1,""]:[!0,"",""]},minDate:new Date,controlType:"select",timeFormat:"HH:mm",dateFormat:"yy-mm-dd",timeText:"Idő",hourText:"Óra",minuteText:"Perc",secondText:"Másodperc",currentText:"Ma",closeText:"Ok",hourMin:10,hourMax:17,timeFormat:"HH",showTime:!1,showMinute:!1,showSecond:!1,showMillisec:!1,showMicrosec:!1})}}),$("#datepicker").on("blur",function(){$("#vDate").text($("#datepicker").val().replace(" ","/"))}),$("#open input").blur(function(){$("#datepicker").val()&&($("#services-1-joindata-full-price-members").val()||$("#services-1-joindata-discount-price-members").val())&&($(".fi-arrow-down").css("color","#483a23"),$("nav#open").hide(),i(),$("nav#steps").show(),$("#step-1").show())}),$(".fi-arrow-down").click(function(){$("#datepicker").val()&&($("#services-1-joindata-full-price-members").val()||$("#services-1-joindata-discount-price-members").val())&&$("html, body").animate({scrollTop:$("#step-1").offset().top},1e3)});var i=function(){var e=0,t=0;$("*[data-service]").each(function(){if($(this).val()){var a=$(this).data("price-full")?$(this).data("price-full"):$(this).data("price-discount"),r=$(this).val()*a;e+=r,t=t||t+$(this).data("minutes")}}),$("#vAmount").text(number_format(e,0)),$("#vMinutes").text(t)}});