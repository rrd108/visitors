function number_format(e,t,a,i){var r=e,s=isNaN(t=Math.abs(t))?2:t,n=null==a?",":a,o=null==i?".":i,c=r<0?"-":"",l=parseInt(r=Math.abs(+r||0).toFixed(s))+"",u=(u=l.length)>3?u%3:0;return c+(u?l.substr(0,u)+o:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?n+Math.abs(r-l).toFixed(s).slice(2):"")}$(function(){$("#services-1-joindata-full-price-members").on("blur",function(){$("#vFullPerson").text($("#services-1-joindata-full-price-members").val())}),$("#services-1-joindata-discount-price-members").on("blur",function(){$("#vDiscountPerson").text($("#services-1-joindata-discount-price-members").val())}),$("input[data-service]").on("blur",r);var e={},t=$(location).attr("origin"),a=$($("script")[1]).attr("src").replace(/\/js\/.*/,""),i=t+a+"/servicesDays/listNonServicesDays.json";$.ajax({method:"get",url:i,success:function(t){var a=t.nonServicesDays;for(var i in a)a.hasOwnProperty(i)&&(e[new Date(a[i])]=new Date(a[i]));$("#datepicker").datetimepicker({beforeShowDay:function(t){return e[t]?[!1,""]:[!0,"",""]},minDate:new Date((new Date).getTime()+864e5),controlType:"select",timeFormat:"HH:mm",dateFormat:"yy-mm-dd",timeText:"Idő",hourText:"Óra",minuteText:"Perc",secondText:"Másodperc",currentText:"Ma",closeText:"Ok",hourMin:10,hourMax:17,timeFormat:"HH",showTime:!1,showMinute:!1,showSecond:!1,showMillisec:!1,showMicrosec:!1})}}),$("#datepicker").on("blur",function(){$("#vDate").text($("#datepicker").val().replace(" ","/"))}),$("#open input").blur(function(){$("#datepicker").val()&&($("#services-1-joindata-full-price-members").val()||$("#services-1-joindata-discount-price-members").val())&&($(".fi-arrow-down").addClass("active"),$("nav#openlogo").hide(300),r(),$("nav#summary").delay(300).show(),$("#step-1").show())}),$(".fi-arrow-down").click(function(){$("#datepicker").val()&&($("#services-1-joindata-full-price-members").val()||$("#services-1-joindata-discount-price-members").val())&&($("html, body").animate({scrollTop:$("#step-1").offset().top-$("header").height()},1e3),$(".fi-arrow-down").hide())});var r=function(){var e=0,t=0;$("*[data-service]").each(function(){if($(this).val()){var a=$(this).data("price-full")?$(this).data("price-full"):$(this).data("price-discount"),i=$(this).val()*a;e+=i,t=t||t+$(this).data("minutes")}}),$("#vAmount").text(number_format(e,0)),$("#vMinutes").text(t)}});